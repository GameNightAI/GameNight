/* Dark mode support for web platform */

:root {
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --radius: 0.625rem;
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);

  /* GameNyte-specific colors */
  --gamenyte-primary: #1a2b5f;
  --gamenyte-accent: #ff9654;
  --gamenyte-background: #f7f9fc;
  --gamenyte-card: #ffffff;
  --gamenyte-text: #1a2b5f;
  --gamenyte-text-muted: #666666;
  --gamenyte-border: #e1e5ea;
  --gamenyte-success: #10b981;
  --gamenyte-error: #ef4444;
  --gamenyte-warning: #f59e0b;

  /* Tint variables to mirror useTheme colors.tints (light) */
  --tint-accent: rgba(255, 150, 84, 0.12);
  --tint-primary: rgba(26, 43, 95, 0.10);
  --tint-success: rgba(16, 185, 129, 0.12);
  --tint-error: rgba(239, 68, 68, 0.10);
  --tint-neutral: rgba(26, 43, 95, 0.18);
  --tint-warning-bg: #fffbe6;
  --tint-warning-border: #ffe58f;

  /* Typography variables */
  --font-family-primary: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-family-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;

  /* Font sizes - following HIG standards */
  /* Smallest */
  --font-size-caption2: 11px;
  /* Small */
  --font-size-caption1: 12px;
  /* Footnote */
  --font-size-footnote: 13px;
  /* Subheadline */
  --font-size-subheadline: 15px;
  /* Callout */
  --font-size-callout: 16px;
  /* Body */
  --font-size-body: 17px;
  /* Headline */
  --font-size-headline: 17px;
  /* Title 3 */
  --font-size-title3: 20px;
  /* Title 2 */
  --font-size-title2: 22px;
  /* Title 1 (largest) */
  --font-size-title1: 28px;

  /* Legacy sizes for backward compatibility */
  --font-size-xs: 12px;
  --font-size-sm: 14px;
  --font-size-base: 16px;
  --font-size-lg: 18px;
  --font-size-xl: 20px;
  --font-size-2xl: 24px;
  --font-size-3xl: 28px;
  --font-size-4xl: 36px;

  /* Font weights */
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Line heights */
  --line-height-tight: 1.2;
  --line-height-normal: 1.4;
  --line-height-relaxed: 1.6;

  /* Letter spacing */
  --letter-spacing-tight: -0.025em;
  --letter-spacing-normal: 0;
  --letter-spacing-wide: 0.025em;
}

/* App-wide mobile web scroll containment
   - Prevents the page (document) from rubber-banding on iOS/Android browsers
   - Keeps scrolling inside React Native scroll containers only
*/
html,
body,
#root,
#__next,
#app {
  height: 100%;
}

body {
  margin: 0;
  /* Block page-level scroll/bounce; inner RN web ScrollViews still scroll */
  overflow: hidden;
  overscroll-behavior-y: none;
  /* Improve touch handling without disabling inner scroll areas */
  touch-action: manipulation;
  background: var(--gamenyte-background);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);
  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.439 0 0);

  /* GameNyte-specific dark mode colors */
  --gamenyte-primary: #3b82f6;
  --gamenyte-accent: #ff9654;
  --gamenyte-background: #0f172a;
  --gamenyte-card: #1e293b;
  --gamenyte-text: #f1f5f9;
  --gamenyte-text-muted: #94a3b8;
  --gamenyte-border: #334155;
  --gamenyte-success: #22c55e;
  --gamenyte-error: #ef4444;
  --gamenyte-warning: #f59e0b;

  /* Tint variables to mirror useTheme colors.tints (dark) */
  --tint-accent: rgba(255, 150, 84, 0.18);
  --tint-primary: rgba(59, 130, 246, 0.18);
  --tint-success: rgba(16, 185, 129, 0.18);
  --tint-error: rgba(239, 68, 68, 0.18);
  --tint-neutral: rgba(75, 85, 99, 0.22);
  --tint-warning-bg: rgba(255, 243, 205, 0.15);
  --tint-warning-border: rgba(255, 229, 143, 0.25);
}

/* Interactive elements - cursor and transitions only work on web */
@media (hover: hover) {

  /* General rule for clickable elements */
  [data-clickable="true"] {
    cursor: pointer;
    transition: all 0.2s ease;
  }

  [data-clickable="true"]:hover {
    opacity: 0.8;
  }
}

/* Typography utility classes for web platform */

/* HIG-compliant classes */
.text-caption2 {
  font-size: var(--font-size-caption2);
}

.text-caption1 {
  font-size: var(--font-size-caption1);
}

.text-footnote {
  font-size: var(--font-size-footnote);
}

.text-subheadline {
  font-size: var(--font-size-subheadline);
}

.text-callout {
  font-size: var(--font-size-callout);
}

.text-body {
  font-size: var(--font-size-body);
}

.text-headline {
  font-size: var(--font-size-headline);
}

.text-title3 {
  font-size: var(--font-size-title3);
}

.text-title2 {
  font-size: var(--font-size-title2);
}

.text-title1 {
  font-size: var(--font-size-title1);
}

/* Legacy classes for backward compatibility */
.text-xs {
  font-size: var(--font-size-xs);
}

.text-sm {
  font-size: var(--font-size-sm);
}

.text-base {
  font-size: var(--font-size-base);
}

.text-lg {
  font-size: var(--font-size-lg);
}

.text-xl {
  font-size: var(--font-size-xl);
}

.text-2xl {
  font-size: var(--font-size-2xl);
}

.text-3xl {
  font-size: var(--font-size-3xl);
}

.text-4xl {
  font-size: var(--font-size-4xl);
}

.font-normal {
  font-weight: var(--font-weight-normal);
}

.font-medium {
  font-weight: var(--font-weight-medium);
}

.font-semibold {
  font-weight: var(--font-weight-semibold);
}

.font-bold {
  font-weight: var(--font-weight-bold);
}

.leading-tight {
  line-height: var(--line-height-tight);
}

.leading-normal {
  line-height: var(--line-height-normal);
}

.leading-relaxed {
  line-height: var(--line-height-relaxed);
}

.tracking-tight {
  letter-spacing: var(--letter-spacing-tight);
}

.tracking-normal {
  letter-spacing: var(--letter-spacing-normal);
}

.tracking-wide {
  letter-spacing: var(--letter-spacing-wide);
}

/* Font family classes */
.font-primary {
  font-family: var(--font-family-primary);
}

.font-mono {
  font-family: var(--font-family-mono);
}

/* Text color classes using theme variables */
.text-primary {
  color: var(--gamenyte-primary);
}

.text-accent {
  color: var(--gamenyte-accent);
}

.text-muted {
  color: var(--gamenyte-text-muted);
}

.text-success {
  color: var(--gamenyte-success);
}

.text-error {
  color: var(--gamenyte-error);
}

.text-warning {
  color: var(--gamenyte-warning);
}

/* Fix for browser autofill - force transparent background so React Native theme shows through */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active,
input:-webkit-autofill:valid,
input:-webkit-autofill:invalid {
  -webkit-text-fill-color: var(--gamenyte-text) !important;
  color: var(--gamenyte-text) !important;
  background-color: transparent !important;
  -webkit-box-shadow: 0 0 0px 1000px transparent inset !important;
  box-shadow: 0 0 0px 1000px transparent inset !important;
  transition: background-color 5000s ease-in-out 0s !important;
  -webkit-transition: background-color 5000s ease-in-out 0s !important;
}

/* Additional specificity for React Native TextInput */
[data-testid="text-input"]:-webkit-autofill,
[data-testid="text-input"]:-webkit-autofill:hover,
[data-testid="text-input"]:-webkit-autofill:focus,
[data-testid="text-input"]:-webkit-autofill:active {
  -webkit-text-fill-color: var(--gamenyte-text) !important;
  color: var(--gamenyte-text) !important;
  background-color: transparent !important;
  -webkit-box-shadow: 0 0 0px 1000px transparent inset !important;
  box-shadow: 0 0 0px 1000px transparent inset !important;
}

/* Force override with maximum specificity */
input[type="email"]:-webkit-autofill,
input[type="password"]:-webkit-autofill,
input[type="text"]:-webkit-autofill {
  -webkit-text-fill-color: var(--gamenyte-text) !important;
  color: var(--gamenyte-text) !important;
  background-color: transparent !important;
  -webkit-box-shadow: 0 0 0px 1000px transparent inset !important;
  box-shadow: 0 0 0px 1000px transparent inset !important;
  transition: background-color 5000s ease-in-out 0s !important;
  -webkit-transition: background-color 5000s ease-in-out 0s !important;
}